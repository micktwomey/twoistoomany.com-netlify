<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/tufte.css" media="screen">
    <title>Ad blocking with /etc/hosts — Michael Twomey</title>
  </head>
  <body>
    <article>
      <header>
        <h1>Ad blocking with /etc/hosts — Michael Twomey</h1>
        <p>Published 2014-5-15</p>
      </header>
      <section>
      &lt;pre&gt;<br/>  &lt;div class=“sqs-block markdown-block sqs-block-markdown” data-block-type=“44” id=“block-yui_3_17_2_1_1436347013359_119773”&gt;<br/> &lt;div class=“sqs-block-content”&gt;<br/>  &lt;p&gt;<br/>   This is an old trick, but generating an /etc/hosts file with dummy entries for common ad / spam / “marketing” sites is a really efficient way to block them from all browsers.<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   http://someonewhocares.org/hosts/ has a nicely maintained list mapping thousands of sites to 127.0.0.1 (there’s a 0.0.0.0 version too). Simply overwrite your /etc/hosts with this (checking for entries in there first of course!) to use.<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   I’ve combined this with apache (usually installed and running on nearly every desktop). By using a custom combined log I can see which site requested the ad, the ad service used and the params.<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   My format:<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   &lt;code&gt;<br/>    LogFormat “%h %l %u %t %&amp;gt;s %b \“%{Referer}i\” -&amp;gt; %V \“%r\” \“%{User-Agent}i\“” combined<br/>   &lt;/code&gt;<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   This gives me nice entries like:<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   &lt;code&gt;<br/>    127.0.0.1 - - [15/May/2014:12:21:25 +0100] 404 203 “http://someonewhocares.org/hosts/zero/” -&amp;gt; stats.g.doubleclick.net “GET /dc.js HTTP/1.1” “Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.75.14 (KHTML, like Gecko) Version/7.0.3 Safari/537.75.14”<br/>127.0.0.1 - - [15/May/2014:12:23:31 +0100] 404 203 “http://someonewhocares.org/hosts/” -&amp;gt; stats.g.doubleclick.net “GET /dc.js HTTP/1.1” “Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.75.14 (KHTML, like Gecko) Version/7.0.3 Safari/537.75.14”<br/>   &lt;/code&gt;<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   :D<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   The main reason I’ve switched to this is I’ve noticed that my browser ad blockers are themselves eating a lot of resources (which are critical on my home 4GB of RAM iMac) and they don’t always work (or their definition of ad is different to mine).<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   It’s sad that it comes to this, I was quite happy with the old style of Google text ads or thoughtful Carbon ad networks. The single worst offender for littering their site with tracking goo has to be the Guardian, which takes a really perceptible amount of time to load on my machines.<br/>  &lt;/p&gt;<br/>  &lt;p&gt;<br/>   Kudos to<br/>   &lt;a href=“http://pagefair.com”&gt;<br/>    PageFair<br/>   &lt;/a&gt;<br/>   for trying to bring some sanity to online advertising.<br/>  &lt;/p&gt;<br/> &lt;/div&gt;<br/>&lt;/div&gt;<br/>&lt;/pre&gt;
      </section>
      <section>
      The current page is called blog/2014/5/15/ad-blocking-with-etchosts.html.
      The parent is <a href="/blog/index.html">blog/index.html</a>.
      The previous is <a href="/blog/2015/11/2/overcomplicating-things-for-fun.html">blog/2015/11/2/overcomplicating-things-for-fun.html</a>.

      </section>
    </article>
</body>
</html>